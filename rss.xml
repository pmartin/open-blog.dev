<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Open Blog]]></title><description><![CDATA[Share blog posts on an free open platform.]]></description><link>https://open-blog.dev</link><generator>RSS for Node</generator><lastBuildDate>Fri, 07 Jun 2019 21:25:58 GMT</lastBuildDate><item><title><![CDATA[No title]]></title><description><![CDATA[ContributingOpen blog is before all an open source project to share a publication of blog posts with the community.Developed by the…]]></description><link>https://open-blog.dev/contributing/</link><guid isPermaLink="false">https://open-blog.dev/contributing/</guid><content:encoded>&lt;h1&gt;Contributing&lt;/h1&gt;
&lt;p&gt;Open blog is before all an open source project to share a publication of blog posts with the community.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Developed by the community for everyone freely&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Share your blog posts&lt;/h2&gt;
&lt;p&gt;Before adding your blog post to Open blog, you should check these 3 steps.&lt;/p&gt;
&lt;h3&gt;Post rules&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Post should follow the &lt;a href=&quot;https://github.com/open-blog-initiative/open-blog.dev/blob/master/CODE_OF_CONDUCT.md&quot;&gt;Code of Conduct&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Post can&apos;t be direct advertising.&lt;/li&gt;
&lt;li&gt;Post can&apos;t break any copyright in its content.&lt;/li&gt;
&lt;li&gt;Post content should be related to &quot;Development&quot;&lt;/li&gt;
&lt;li&gt;Post should be written in English&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;NB: For now we only support two languages because those are maintainer ones.
If you want to be part of the maintainer of Open Blog for another language, just contact one of the maintainer.&lt;/p&gt;
&lt;h3&gt;How to&lt;/h3&gt;
&lt;h4&gt;Install&lt;/h4&gt;
&lt;p&gt;In order to work locally on your blog post and see how it will be displayed when merged, be sur to have NodeJS installed (&gt;=10.15).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fork this repository &lt;a href=&quot;https://github.com/open-blog-initiative/open-blog.dev&quot;&gt;&quot;Fork me !&quot;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Clone your forked version&lt;/li&gt;
&lt;li&gt;Install dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;yarn install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Start dev server&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;npm run docs:dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;yarn docs:dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Create your post file&lt;/h4&gt;
&lt;p&gt;In &lt;code class=&quot;language-text&quot;&gt;blog/posts&lt;/code&gt; folder, create a folder with your github name.
In this fresh new directory, just create a &lt;a href=&quot;https://fr.wikipedia.org/wiki/Markdown&quot;&gt;Markdown file&lt;/a&gt;.
Name it with a dashCase title (example: &lt;code class=&quot;language-text&quot;&gt;my-awesome-post.md&lt;/code&gt;.&lt;/p&gt;
&lt;h5&gt;Metadata&lt;/h5&gt;
&lt;p&gt;At the beginning of you blog post, you must define &lt;code class=&quot;language-text&quot;&gt;frontmatter&lt;/code&gt; block to add metadata to your post.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; post
&lt;span class=&quot;token key atrule&quot;&gt;author&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Antoine CARON &lt;span class=&quot;token comment&quot;&gt;# Required&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;pseudo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Slashgear &lt;span class=&quot;token comment&quot;&gt;# If you have one&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;github_profile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Slashgear &lt;span class=&quot;token comment&quot;&gt;# will display github icon link to you profile&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;twitter_profile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Slashgear_ &lt;span class=&quot;token comment&quot;&gt;# will display twitter icon link to you profile&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Open your pull request&lt;/h3&gt;
&lt;p&gt;When you are happy of your blog post, open a &lt;code class=&quot;language-text&quot;&gt;pull request&lt;/code&gt; with it.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Your pull request should only contain a single post&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Make sure the build is passing (We use prettier to format markdowns)&lt;/li&gt;
&lt;li&gt;Resolve your conflicts&lt;/li&gt;
&lt;li&gt;Ask for two reviews from the community&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When those steps are checked, a maintainer will review it.&lt;/p&gt;
&lt;p&gt;We will check you followed the &lt;a href=&quot;#post-rules&quot;&gt;rules&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;If it looks good to them, one of them will ask you &lt;em&gt;&quot;When do you want to publish it ?&quot;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As soon as you tell us when to merge it, we will schedule it.&lt;/p&gt;
&lt;h2&gt;Make &quot;Open Blog&quot; a better place :sparkles:&lt;/h2&gt;
&lt;p&gt;If you have any idea to improve &lt;em&gt;Open blog&lt;/em&gt; globally, don&apos;t hesitate to open a discussion &lt;a href=&quot;https://github.com/open-blog-initiative/open-blog.dev/issues/new&quot;&gt;Github issues&lt;/a&gt; (Take 5 minutes to check if your idea has not been submitted yet).&lt;/p&gt;
&lt;p&gt;Look at our &lt;a href=&quot;https://github.com/open-blog-initiative/open-blog.dev/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22&quot;&gt;&quot;Good first issue&quot;&lt;/a&gt; list if you are looking for an idea.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Why you should use Compression Webpack Plugin ?]]></title><description><![CDATA[If you are using webpack as module bundler for your application, you probably are concerned by its own performance and loading time.
You may…]]></description><link>https://open-blog.dev/posts/slashgear/why-you-should-use-compression-webpack-plugin/</link><guid isPermaLink="false">https://open-blog.dev/posts/slashgear/why-you-should-use-compression-webpack-plugin/</guid><pubDate>Tue, 02 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you are using webpack as module bundler for your application, you probably are concerned by its own performance and loading time.
You may have used code splitting, tree shaking, uglifyfication but you may have forgot a very important step.&lt;/p&gt;
&lt;h2&gt;Compression is mandatory&lt;/h2&gt;
&lt;p&gt;In 2019, if you are not using a compression algorithm to deliver your files in a lighter version to make your website load faster, the situation is critical.
Every website performance analyser will tell you to do it. Here is a size comparison of a vanilla &lt;a href=&quot;https://cli.vuejs.org/&quot;&gt;Vue CLI&lt;/a&gt; website with and without Gzip.&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/15d620b40e592ba0943d30e7a40c5dc2/34e8a/vue-cli-vanilla-size.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 61.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQoz5VSiUrDQBDt/3+B+hf6BSoiCta2iiB4pAdVSI9ks2d2ZidOuqlN44XDMHkJ72XOnvdeCCE3lmWZUlJrtc5EroAqwqIA56ofrNd+IaZvgMcqzcGVzi9SIwT9KbbWilxIYajhUuun1AERN+IQAoBfLIVYScD4hXas38XcuTF6tcy00JHQ4X0vZhmnRUQuOxdKrlXdOdWZI2jjCHZirTUAbOqE1ySdzFVFseL2mOgL2JbNDwTEAJOXt4ur9/79evikB49ylPjRBNmHHKeBfTDGu1mQjjxQI+bMSilbuvnz9Ozw+Pzo5PSgjteX05uH4jbBT+8nOBxjbsj5eqt7e0YoKfBJAEewRSySgicsIwHAEoW4HZ7R/pFse+ImjG0OyxjrfRwKMY4rLEvfFf/XPgDNJrrq4uYUcgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/15d620b40e592ba0943d30e7a40c5dc2/50512/vue-cli-vanilla-size.webp 163w,
/static/15d620b40e592ba0943d30e7a40c5dc2/aeba0/vue-cli-vanilla-size.webp 325w,
/static/15d620b40e592ba0943d30e7a40c5dc2/965c5/vue-cli-vanilla-size.webp 600w&quot;
          sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/15d620b40e592ba0943d30e7a40c5dc2/19bd1/vue-cli-vanilla-size.png 163w,
/static/15d620b40e592ba0943d30e7a40c5dc2/d3bcb/vue-cli-vanilla-size.png 325w,
/static/15d620b40e592ba0943d30e7a40c5dc2/34e8a/vue-cli-vanilla-size.png 600w&quot;
          sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/15d620b40e592ba0943d30e7a40c5dc2/34e8a/vue-cli-vanilla-size.png&quot;
          alt=&quot;Vue CLI vanilla size compared to gzip&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Here we reduce 64% of the actual size with Gzip.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;Compressing static files on the fly is redondant&lt;/h2&gt;
&lt;p&gt;Every modern web server has the possibility to compress files on demand.
Although Gzip is fast, compressing static files on each demand is anti-pattern.
Even if you use a cache in front of your static files requests.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Static files compression should be done during the build time.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If you are in a webpack context, adding compression is very easy.&lt;/p&gt;
&lt;p&gt;To do so, you can install the &lt;em&gt;compression-webpack-plugin&lt;/em&gt; with:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --dev compression-webpack-plugin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;…and add it in your production configuration:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CompressionWebpackPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In two easy steps, your output static files will have their &lt;em&gt;.gz&lt;/em&gt; equivalent.
Now if you ship those files on a webserver like &lt;a href=&quot;https://caddyserver.com/&quot;&gt;Caddy&lt;/a&gt;.
It will automatically deliver the pre-gzipped version if they exist.
However you need to activate it &lt;a href=&quot;http://nginx.org/en/docs/http/ngx_http_gzip_static_module.html&quot;&gt;in Nginx server configuration&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&quot;Should we only generate .gz ?&quot;&lt;/h2&gt;
&lt;p&gt;If you followed the above steps, you enabled compression on your webserver. That is great!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;But in 2019, Gzip is not the only solution to compress your files.&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;Zopfli&lt;/h3&gt;
&lt;p&gt;Zopfli is a lossless compression algorithm which has better compression results compared to Gzip with slower compression time.
So if you can, you must always use Zopfli compression for static files, instead of basic Gzip.
Output files of Zopfli respects the same format as Gzip, browser support is the same.&lt;/p&gt;
&lt;p&gt;You can use zopfli &lt;a href=&quot;https://github.com/webpack-contrib/compression-webpack-plugin#using-zopfli&quot;&gt;with compression webpack plugin.&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Brotli&lt;/h3&gt;
&lt;p&gt;Brotli is a recent compression algorithm (&lt;a href=&quot;https://tools.ietf.org/html/rfc7932&quot;&gt;RFC 7932&lt;/a&gt;) with &lt;a href=&quot;https://caniuse.com/#search=brotli&quot;&gt;a great browser support&lt;/a&gt;.
Based on a new context modeling and a new file format, brotli is very performant for compressing static files.
There is still some difficult parts with brotli (not available on Node &amp;#x3C; v11, hard to configure on some webservers like Nginx)&lt;/p&gt;
&lt;p&gt;You can use brotli &lt;a href=&quot;https://github.com/webpack-contrib/compression-webpack-plugin#using-zopfli&quot;&gt;with compression webpack plugin.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0d631442de390a6737ca967f30f3263d/17aeb/vue-cli-complete-size.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 70.43010752688173%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAABLElEQVQoz51TPU/DMBDt72Vi4g/wVxhAIJhYK2ABNUkXkECitEiFpWqjJmn9dR/mEpPiqhlorefzy51fcnd2ekRkrTXGaK0DEY//3+hti2vLRCvDVhlX5ihTVQ5ctzgszJ5ktgOQCYnBMYFD4DbE0R7hv2JjbLHMCSF4492dfEssya/Wa2yq3VustVrMZ4h4iBgAiqoKsT3EIpNFK1UuZ0RwiFiaO57meQESlDYLqO5/N99N231O35Qpgz86S44eY96KpdVyyKPXUdIfDB+G2X2a3KXJ8zwbQzbBtLENYPABL19kXSSWzwL4p8ezi/Ojm+uTy6vj/u3p4vvdWDTgjePaBji24EPhf2kLs8TyRoERtNlJTtjcnF3unOtF1bFnEtQ3E2IBbvjmnwn8B+63MwOVH0z/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0d631442de390a6737ca967f30f3263d/50512/vue-cli-complete-size.webp 163w,
/static/0d631442de390a6737ca967f30f3263d/aeba0/vue-cli-complete-size.webp 325w,
/static/0d631442de390a6737ca967f30f3263d/001d9/vue-cli-complete-size.webp 650w,
/static/0d631442de390a6737ca967f30f3263d/0e9bf/vue-cli-complete-size.webp 930w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0d631442de390a6737ca967f30f3263d/19bd1/vue-cli-complete-size.png 163w,
/static/0d631442de390a6737ca967f30f3263d/d3bcb/vue-cli-complete-size.png 325w,
/static/0d631442de390a6737ca967f30f3263d/dbb61/vue-cli-complete-size.png 650w,
/static/0d631442de390a6737ca967f30f3263d/17aeb/vue-cli-complete-size.png 930w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/0d631442de390a6737ca967f30f3263d/dbb61/vue-cli-complete-size.png&quot;
          alt=&quot;Vue CLI compression results&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;In conclusion: &quot;Why doing it with Webpack ?&quot;&lt;/h2&gt;
&lt;p&gt;Compressing static files during the build steps is still a moot topic.
Some people argue that it is up to the web server to compress the files.
In fact, today web servers do not really optimize the compression of static files.&lt;/p&gt;
&lt;p&gt;When you compress during the build :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can easily see the complete size of your web application (which is great when you want to track web app performances)&lt;/li&gt;
&lt;li&gt;Your app is much more portable (you will easily change your deployment or your web server with pre-compressed assets)&lt;/li&gt;
&lt;li&gt;As a frontend developper you are familiar with the great value of lossless compression.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Creating an image lazy loading component with React]]></title><description><![CDATA[In the web world, we often have complex page structure.
All the parts are not visible in the user viewport at first.
Why should we load all…]]></description><link>https://open-blog.dev/posts/slashgear/creating-an-image-lazy-loading-component-with-react/</link><guid isPermaLink="false">https://open-blog.dev/posts/slashgear/creating-an-image-lazy-loading-component-with-react/</guid><pubDate>Tue, 02 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In the web world, we often have complex page structure.
All the parts are not visible in the user viewport at first.
Why should we load all the page content to be able to see it ?&lt;/p&gt;
&lt;p&gt;By default, the browser load images in the lower part of you website, even if the user can&apos;t see them at first.
It could slow down the performance of your website.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Every website audit tool will ask you to set up lazy loading on images. But how to do it with React ?&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;Example with a pictures grid&lt;/h2&gt;
&lt;p&gt;In order to show you how to do it with React, I bootstrapped a small app showing a grid of 1000 images.
I used styled-component as CSS in JS framework (CSS is JS is not required to lazy load images).&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/m42qm215py?fontsize=14&quot; title=&quot;Eager loading images&quot; style=&quot;width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;&quot; sandbox=&quot;allow-modals allow-forms allow-popups allow-scripts allow-same-origin&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;If you open a tab with your devtools opened, you will realize that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;many HTTP queries has been made by your browser to fetch all the images.&lt;/li&gt;
&lt;li&gt;all broken images have no fallback in order to have a smoother feeling.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;NB: loading 1000 images in a page is a very bad practice. It is just for the example here.&lt;/p&gt;
&lt;h2&gt;Let&apos;s lazy load images&lt;/h2&gt;
&lt;p&gt;Let&apos;s create a dedicated component with an image placeholder.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; styled &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;styled-components&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Image &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styled&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  display: block;
  height: 100px;
  width: 100px;
`&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; placeHolder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;LazyImage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Image&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;placeHolder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you use this component instead of a simple &lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt; tag, you won&apos;t load image at all.
It will display the placeholder here encoded in &lt;code class=&quot;language-text&quot;&gt;base64&lt;/code&gt;.
This simple trick will let your browser show an image without generating an HTTP request because it is already &lt;em&gt;hardcoded&lt;/em&gt; in the source.&lt;/p&gt;
&lt;p&gt;Base64 image source is just 1x1 pixel wide png. With that component, your browser won&apos;t load the real image. We need to tell him &lt;em&gt;when&lt;/em&gt; to do it.&lt;/p&gt;
&lt;h3&gt;Intersection Observer for the win&lt;/h3&gt;
&lt;p&gt;Now let&apos;s try to trigger real image loading when the user really need it.
For that, we would need to have an API that let us know if an element is visible in user viewport.
That is exactly what &lt;a href=&quot;https://developer.mozilla.org/fr/docs/Web/API/Intersection_Observer_API&quot;&gt;IntersectionObserver&lt;/a&gt; provides us.&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e853e350b0c155f78b0c301d079c9239/2f950/intersection-observer-caniuse.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 43.0625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAB30lEQVQoz2VPXWvTUBjO/xO8FL2xtyIbjK1eTBA2ax2WKoWtVlxF3NBtbAxEdLZdG9Mm/bCmaU5yTto062k+miZpyJIWJzrpzNUoCA/PxfP18hIDxGDEnEFGEyqe2vZH0DfFYAQnFpqHjVuhPrUld8hbOu+NutZAIDCiMWQGqHoGaUWo9AClCGWZp6w+G0avy9eLIfsjMTAFzwAEbFGQLSK2CJsFiT2VQUURq+GEM+Dmy/8jdAmTO9bkhtptmCpn4rbZofxefmJ1JjYK5qLhO5MRnFcCCxI6IPXuD1Op90+OB82iLlWGbB6jGgZlDZZlkRSbp0qr1AdliWcwIBXwTeJIvp7DPEv0yV20tdyNrx69u9UG78fduvjmgWNwri154SkDjm3JN9HUQIGOprromdC1Ok6vJe89JTa3by8c3Fh7cecuef/Dy6VScnHx481mPCofZNsnO19S0eaTaHFjqbCfqPGfquhrLb0OMrGWsLf+OUIcHSbi9PN7heWV3MNnqcjb1EKaTmfikWJihdpNZHIb35OPDvdjmVIyS6Ve0Zv57cdsdo1sxHaqr4m/vnZp98ZG2xsCwwXOeedqjPVz0Z30/gTqzFMvLvTLQL9y1ZmLZ07/91T7OdV+OepsjP8BRo+wDydh9I0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e853e350b0c155f78b0c301d079c9239/50512/intersection-observer-caniuse.webp 163w,
/static/e853e350b0c155f78b0c301d079c9239/aeba0/intersection-observer-caniuse.webp 325w,
/static/e853e350b0c155f78b0c301d079c9239/001d9/intersection-observer-caniuse.webp 650w,
/static/e853e350b0c155f78b0c301d079c9239/97fd0/intersection-observer-caniuse.webp 975w,
/static/e853e350b0c155f78b0c301d079c9239/05607/intersection-observer-caniuse.webp 1300w,
/static/e853e350b0c155f78b0c301d079c9239/ded3f/intersection-observer-caniuse.webp 1600w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e853e350b0c155f78b0c301d079c9239/19bd1/intersection-observer-caniuse.png 163w,
/static/e853e350b0c155f78b0c301d079c9239/d3bcb/intersection-observer-caniuse.png 325w,
/static/e853e350b0c155f78b0c301d079c9239/dbb61/intersection-observer-caniuse.png 650w,
/static/e853e350b0c155f78b0c301d079c9239/6b691/intersection-observer-caniuse.png 975w,
/static/e853e350b0c155f78b0c301d079c9239/91670/intersection-observer-caniuse.png 1300w,
/static/e853e350b0c155f78b0c301d079c9239/2f950/intersection-observer-caniuse.png 1600w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/e853e350b0c155f78b0c301d079c9239/dbb61/intersection-observer-caniuse.png&quot;
          alt=&quot;IntersectionObserver support in March 2019&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Intersection observer API provides us observe method to check on the visibility of an HTML element using its own ref.
In order to follow last React API, I used &lt;em&gt;Hooks&lt;/em&gt; to keep a simple functional component with state and lifecycle.&lt;/p&gt;
&lt;p&gt;If you don&apos;t know what are Hooks or how to use them, take a look at my friend and colleague Matthieu Lux (&lt;a href=&quot;https://twitter.com/swiip?lang=fr&quot;&gt;@Swiip&lt;/a&gt;) with his &lt;a href=&quot;https://medium.zenika.com/react-hooks-my-introduction-81b15e6eff20&quot;&gt;React Hooks : my introduction article&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I had to use &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt; to handle the &lt;code class=&quot;language-text&quot;&gt;img ref&lt;/code&gt; in order to correctly trigger my side effect only when the &lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt; is correctly loaded.
Take a look at &lt;a href=&quot;https://medium.com/@teh_builder/ref-objects-inside-useeffect-hooks-eb7c15198780&quot;&gt;this article&lt;/a&gt; which explains why we can&apos;t use &lt;code class=&quot;language-text&quot;&gt;useRef&lt;/code&gt; with &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; styled &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;styled-components&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Image &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styled&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  display: block;
  height: 100px;
  width: 100px;
`&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; placeHolder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;LazyImage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; src&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; alt &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;imageSrc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setImageSrc&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;placeHolder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;imageRef&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setImageRef&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; observer
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; didCancel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imageRef &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; imageSrc &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; placeHolder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;IntersectionObserver&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        observer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntersectionObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token parameter&quot;&gt;entries&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            entries&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token comment&quot;&gt;// when image is visible in the viewport + rootMargin&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;didCancel &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;intersectionRatio &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isIntersecting&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;setImageSrc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;src&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            threshold&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            rootMargin&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;75%&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imageRef&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Old browsers fallback&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setImageSrc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;src&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      didCancel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// on component unmount, we remove the listner&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;observer &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;unobserve&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unobserve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imageRef&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Image&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;setImageRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;imageSrc&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;alt&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this brand new implementation, I just made the component trigger image loading only when 1% of the image is visible in the viewport.&lt;/p&gt;
&lt;p&gt;You can also note that if Intersection Observer is not available, it will trigger image loading.
As a consequence, some browsers won&apos;t be able to lazy load images.&lt;/p&gt;
&lt;p&gt;You can also add margin on the viewport trigger, to make your browser load image if they are visible in the viewport + margin.&lt;/p&gt;
&lt;h3&gt;Pimp it up with style&lt;/h3&gt;
&lt;p&gt;With that shiny LazyImage component, we are now able to let browser load image at will.
But we still not have a nice animation to display the loading to the user.&lt;/p&gt;
&lt;p&gt;In order to make it smooth, I just had to handle &lt;code class=&quot;language-text&quot;&gt;onLoad&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;onError&lt;/code&gt; native event with custom CSS class to display image correctly.&lt;/p&gt;
&lt;p&gt;This is the &lt;a href=&quot;https://codesandbox.io/s/34vpxnno9p?fontsize=14&quot;&gt;LazyImage component&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; styled &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;styled-components&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; placeHolder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Image &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styled&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  display: block;
  height: 100px;
  width: 100px;
  // Add a smooth animation on loading
  @keyframes loaded {
    0% {
      opacity: 0.1;
    }
    100% {
      opacity: 1;
    }
  }
  // I use utilitary classes instead of props to avoid style regenerating
  &amp;amp;.loaded:not(.has-error) {
    animation: loaded 300ms ease-in-out;
  }
  &amp;amp;.has-error {
    // fallback to placeholder image on error
    content: url(&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;placeHolder&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;);
  }
`&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;LazyImage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; src&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; alt &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;imageSrc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setImageSrc&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;placeHolder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;imageRef&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setImageRef&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onLoad&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;loaded&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onError&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;has-error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; observer
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; didCancel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imageRef &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; imageSrc &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; src&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;IntersectionObserver&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        observer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntersectionObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token parameter&quot;&gt;entries&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            entries&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;didCancel &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;intersectionRatio &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isIntersecting&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;setImageSrc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;src&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unobserve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imageRef&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            threshold&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            rootMargin&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;75%&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imageRef&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Old browsers fallback&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setImageSrc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;src&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      didCancel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// on component cleanup, we remove the listner&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;observer &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;unobserve&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unobserve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imageRef&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;src&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; imageSrc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; imageRef&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Image&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;setImageRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;imageSrc&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;alt&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;onLoad&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onLoad&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;onError&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onError&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/34vpxnno9p?fontsize=14&quot; title=&quot;Lazy loading&quot; style=&quot;width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;&quot; sandbox=&quot;allow-modals allow-forms allow-popups allow-scripts allow-same-origin&quot;&gt;&lt;/iframe&gt;
&lt;h2&gt;Going further&lt;/h2&gt;
&lt;p&gt;Lazy loading is key to make an awesome user experience.
This article is only focused on images loading. However, with React you can lazy load more than just images.
Thanks to &lt;code class=&quot;language-text&quot;&gt;React.lazy&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;React.Suspense&lt;/code&gt; feature, you could also lazy load components and related code.&lt;/p&gt;
&lt;p&gt;In the upcoming version of React (currently in 16.8.5), we will be able to use &lt;em&gt;createFetcher&lt;/em&gt; (a still work in progress feature) to let us control lazy loading and fallback of &lt;em&gt;asynchronous rendered components&lt;/em&gt;.
If you are curious, take a look at this conference about the upcoming features.&lt;/p&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube-nocookie.com/embed/nLF0n9SACd4?controls=0&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;Author /&gt;
&lt;LastTenPosts /&gt;</content:encoded></item><item><title><![CDATA[Github classroom, pourquoi vous devriez l'utiliser]]></title><description><![CDATA[Lorsque j'ai commencé à enseigner en septembre dernier, je recherchais une solution
pour pouvoir suivre facilement l'avancée des étudiants…]]></description><link>https://open-blog.dev/posts/slashgear/github-classroom-pourquoi-le-tester/</link><guid isPermaLink="false">https://open-blog.dev/posts/slashgear/github-classroom-pourquoi-le-tester/</guid><pubDate>Sun, 24 Mar 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Lorsque j&apos;ai commencé à enseigner en septembre dernier, je recherchais une solution
pour pouvoir suivre facilement l&apos;avancée des étudiants pendant leur TP. J&apos;ai d&apos;abord songé à leur
demander l&apos;accès à leur repository Github/Bitbucket... mais je me suis vite rendu compte que ça
n&apos;allait pas être gérable durablement. J&apos;ai alors cherché une solution clé en main.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Je suis alors tombé au hasard de mes recherches sur le forum de la &lt;a href=&quot;https://education.github.community&quot;&gt;communauté des
enseignants sur Github&lt;/a&gt;. Une communauté très active et dont le sujet
principal de discussion est &lt;strong&gt;Github classroom&lt;/strong&gt;. J&apos;ai alors décortiqué cette solution proposée par Github
afin de la tester au plus vite avec mes étudiants.&lt;/p&gt;
&lt;h1&gt;Constat, en TP on est très mal équipé&lt;/h1&gt;
&lt;p&gt;Avant de vous décrire le fonctionnement et la mise en place de cet outil avec vos étudiants,
je préfère faire une petite liste des problèmes que j&apos;ai pu rencontrer en tant que professeur
ou même en tant qu&apos;étudiant lors de la réalisation d&apos;un TP.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Démarrer votre TP en 5 minutes avec vos étudiants, impossible.&lt;/strong&gt;
Il est clair que passer une clé usb de PC en PC pour distribuer soit les sources du TP soit
le sujet ce n&apos;est pas pratique. On observe facilement que certains étudiants
ne commencent alors leur TP qu&apos;au bout de 15/20 minutes.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Difficile de suivre l&apos;avancement des étudiants.&lt;/strong&gt;
Il arrive que des étudiants souhaitent avoir de l&apos;aide pour résoudre un problème
avec leur projet. Sans outils, on est souvent obligé de faire de nombreux échanges par
mail pour finir par se comprendre et réussir à apporter son aide. Se contextualiser
en lisant un mail où l&apos;élève lâche juste un &lt;em&gt;ça marche pooo !&lt;/em&gt;, c&apos;est pas très facile.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Le rapport, le code du projet, les mails d&apos;échanges avec les étudiants, à des endroits différents.&lt;/strong&gt;
Le rendu du TP, il faut l&apos;avouer c&apos;est vraiment l&apos;étape la plus énervante.
Entre les étudiants qui oublient la moitié des choses à rendre, les retards,
les outils de la faculté qui ne marchent pas, centraliser et noter les travaux pratiques des étudiants
devient vite un véritable calvaire que l&apos;on traine sur plusieurs jours.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;&quot;Non Monsieur j&apos;ai pas copié&quot; :&lt;/em&gt;&lt;/strong&gt;
Trop de fois les étudiants se Ctrl-C/Ctrl-V les TPs et cela peut être
très compliqué de vérifier qu&apos;un étudiant n&apos;a pas juste recopié le code de son collègue.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;&quot;Et toi t&apos;as fait quoi sur ce TP ?&quot;&lt;/em&gt;&lt;/strong&gt;
Et oui, parfois, quand les étudiants sont en groupe, un fainéant peut se cacher au milieu.
Il est donc difficile d&apos;évaluer réellement la compréhension individuelle dans cette situation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Comment vérifier que leur TP marche ? Dois-je l&apos;installer ?&lt;/strong&gt;
40 élèves, TP par binôme, cela fait 20 TP à installer et à vérifier. Il arrive que l&apos;élève ait
configuré son projet un peu bizarrement et il vous faudra au moins 10 minutes pour comprendre
ce qu&apos;il a fait.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Préparer un TP avec Github Classroom&lt;/h1&gt;
&lt;p&gt;Alors déjà pour être clair, utiliser un outil comme &lt;strong&gt;Github Classroom&lt;/strong&gt; nécessite du temps
de préparation supplémentaire. Il y a tout un tas de choses à configurer avant la première séance
avec ses élèves. Cependant, ce temps de préparation va être largement récupéré dès que le TP aura commencé.&lt;/p&gt;
&lt;h2&gt;Un outil bien expliqué&lt;/h2&gt;
&lt;p&gt;Cet outil a une prise en main assez évidente, mais Github nous a quand même fourni
plusieurs vidéos explicatives qui suffisent à comprendre son utilisation.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Getting started&lt;/p&gt;
&lt;div style=&quot;position:relative;height:0;padding-bottom:56.25%&quot;&gt;&lt;iframe src=&quot;https://www.youtube.com/embed/ChA_zph7aao?ecver=2&quot; width=&quot;640&quot; height=&quot;360&quot; frameborder=&quot;0&quot; style=&quot;position:absolute;width:100%;height:100%;left:0&quot; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;How to set up group assignments&lt;/p&gt;
&lt;div style=&quot;position:relative;height:0;padding-bottom:56.25%&quot;&gt;&lt;iframe src=&quot;https://www.youtube.com/embed/-52quDR2QSc?ecver=2&quot; width=&quot;640&quot; height=&quot;360&quot; frameborder=&quot;0&quot; style=&quot;position:absolute;width:100%;height:100%;left:0&quot; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Les contraintes&lt;/h2&gt;
&lt;p&gt;Cet outil n&apos;est pas magique, il impose quelques contraintes qui peuvent être
bloquantes pour vous et vos étudiants.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Il vous faut un compte Github&lt;/li&gt;
&lt;li&gt;Tous les élèves doivent avoir un compte Github, il peut être difficile d&apos;imposer ça aux élèves&lt;/li&gt;
&lt;li&gt;Vous devez maitriser Git et bien connaitre l&apos;interface de Github.&lt;/li&gt;
&lt;li&gt;Vos élèves doivent être autonomes avec Git.&lt;/li&gt;
&lt;li&gt;Vous devez créer une organisation sur Github (en quelques clics)&lt;/li&gt;
&lt;li&gt;Les sources des TP et les réalisations de vos étudiants seront publiques si &lt;a href=&quot;https://education.github.com/discount_requests/new&quot;&gt;vous
ne demandez pas une organisation privée à Github pour votre école.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Les étapes à respecter&lt;/h2&gt;
&lt;h3&gt;1. Préparer vos sources et votre énoncé&lt;/h3&gt;
&lt;p&gt;Il vous faudra tout d&apos;abord déposer vos sources sur un dépot Github en
veillant à bien le nommer pour le retrouver par la suite. Il faut aussi veiller à ne pas
&lt;em&gt;marquer&lt;/em&gt; vos TP par les fichiers de configuration de votre IDE. En effet,
vos étudiants n&apos;utiliseront pas forcément le même que vous et ces fichiers pourraient les gêner/les troubler
&lt;em&gt;(il en faut peu)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Je vous conseille également de rédiger l&apos;énoncé en &lt;a href=&quot;https://guides.github.com/features/mastering-markdown/&quot;&gt;Markdown&lt;/a&gt;
directement dans le fichier &lt;code class=&quot;language-text&quot;&gt;README.md&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;Enfin, histoire de tout centraliser au même endroit, je vous pousse à
définir un fichier &lt;code class=&quot;language-text&quot;&gt;Rapport.md&lt;/code&gt; pour que les étudiants rédigent également leur rapport en Markdown.
(Après un premier test, les étudiants ont bien apprécié le Markdown. Très simple à comprendre, il leur a
permis d&apos;insérer du code mais également des images dans leur rapport sans prêter attention à la mise en page)&lt;/p&gt;
&lt;p&gt;Pour terminer, &lt;a href=&quot;https://github.com/PolytechLyon/isi3-tp1-graph&quot;&gt;voici un exemple de TP que j&apos;ai configuré pour mes étudiants.&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;2. Configurer votre &lt;em&gt;assignement&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;Une fois votre TP déposé sur un dépôt Github, il ne vous reste plus qu&apos;à définir une &lt;code class=&quot;language-text&quot;&gt;instance&lt;/code&gt;
de TP depuis l&apos;interface de Github Classroom.&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/038e52072fd39b5c797e3ffef7dc7148/2675f/create-assignement.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 79.9184505606524%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQoz5WTbY+DIBCE/f+/sr1+OQUFXwsFjnvA1mpO294kkk3YZWZn18J7r5USQkzjGGP82SI+QJpzbj5DCHNmQWSMmabJWkvM3W2FpVhKcT5/XS4XvrIsyUzFPNa2rVJKa62a5ubcmn8p7rpO8oCUtWqnaQzec1mgo65rkSBFJUjq+z6fKUDR9Xqddf5F4XxoSRsG8tAPW9jCZ4X7xdbHWidJ1t6MsfDwRPoeoK94gIIGe12dTifahhypY8awwtq5TTGCuIZZK323TWFcA+Fddg4OenauElX5XeJYlVBiwDzSo1afxYy9afC7ZmBDP2Azmpm5y3hTTAZSmU2bQc+I5owfIG3Ysk9vqXaYm6wbzwhmwZ8WY8yQN4TTGhPykvyDWWawnQwJ5t0f42DOL/G6+BcbfqnRKk/9/AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/038e52072fd39b5c797e3ffef7dc7148/50512/create-assignement.webp 163w,
/static/038e52072fd39b5c797e3ffef7dc7148/aeba0/create-assignement.webp 325w,
/static/038e52072fd39b5c797e3ffef7dc7148/001d9/create-assignement.webp 650w,
/static/038e52072fd39b5c797e3ffef7dc7148/97fd0/create-assignement.webp 975w,
/static/038e52072fd39b5c797e3ffef7dc7148/05607/create-assignement.webp 1300w,
/static/038e52072fd39b5c797e3ffef7dc7148/43f13/create-assignement.webp 1962w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/038e52072fd39b5c797e3ffef7dc7148/19bd1/create-assignement.png 163w,
/static/038e52072fd39b5c797e3ffef7dc7148/d3bcb/create-assignement.png 325w,
/static/038e52072fd39b5c797e3ffef7dc7148/dbb61/create-assignement.png 650w,
/static/038e52072fd39b5c797e3ffef7dc7148/6b691/create-assignement.png 975w,
/static/038e52072fd39b5c797e3ffef7dc7148/91670/create-assignement.png 1300w,
/static/038e52072fd39b5c797e3ffef7dc7148/2675f/create-assignement.png 1962w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/038e52072fd39b5c797e3ffef7dc7148/dbb61/create-assignement.png&quot;
          alt=&quot;Créer un assignement&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Quelques petites astuces pour créer vos &lt;em&gt;assignements&lt;/em&gt; :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bien préciser les classes, groupes, année dans le titre.&lt;/li&gt;
&lt;li&gt;Indiquer votre starter code de l&apos;étape 1.&lt;/li&gt;
&lt;li&gt;Vous pouvez bloquer le nombre maximum d&apos;élèves par groupe.&lt;/li&gt;
&lt;li&gt;Vous pouvez reprendre les équipes entre les différents TP d&apos;une même matière.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3. Diffuser votre TP à vos élèves&lt;/h3&gt;
&lt;p&gt;Cette étape vous fera gagner un temps précieux, en effet, une fois votre &lt;em&gt;assignement&lt;/em&gt; créé
l&apos;outil vous génère un lien qui permettra aux étudiants de s&apos;y connecter et de se regrouper.&lt;/p&gt;
&lt;p&gt;Dans le cas des TP en groupe, un étudiant doit s&apos;y connecter et créer son équipe, les autres pourront
ensuite la rejoindre.&lt;/p&gt;
&lt;p&gt;Un &lt;em&gt;repository&lt;/em&gt; sera alors créé par équipe.&lt;/p&gt;
&lt;h3&gt;4. Suivre vos élèves dans leurs développements&lt;/h3&gt;
&lt;p&gt;Vos étudiants vont un peu vous prendre pour la NSA, mais rassurez-les c&apos;est pour leur bien.
Une fois les dépots créés, vous pourrez voir sur votre page d&apos;accueil github tous les commits
de vos étudiants. Cela vous permettra de faire de la &lt;em&gt;review&lt;/em&gt; au fil de l&apos;eau si vous avez le temps.&lt;/p&gt;
&lt;p&gt;Vous pouvez également voir avec eux pour qu&apos;ils ouvrent une &lt;em&gt;issue&lt;/em&gt; s&apos;ils ont besoin de votre aide.
Dans cette situation vous serez notifié par mail. L&apos;étudiant pourra même vous indiquer dans l&apos;&lt;em&gt;issue&lt;/em&gt;
le code qui lui pose problème.&lt;/p&gt;
&lt;h3&gt;5. Évaluer leurs réalisations&lt;/h3&gt;
&lt;p&gt;Pour l&apos;évaluation vous avez deux solutions :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Inspecter leur &lt;em&gt;repository&lt;/em&gt; et lire leur code. Pour cela je ne peux que vous conseiller
l&apos;extension &lt;a href=&quot;https://chrome.google.com/webstore/detail/octotree/bkhaagjahfmjljalopjnoealnfndnagc&quot;&gt;Octotree&lt;/a&gt;
qui vous permet d&apos;afficher l&apos;arbre des fichiers du dépôt.&lt;/li&gt;
&lt;li&gt;Mettre en place des tests unitaires sur le projet de base et connecter un outil de CI en SaaS comme travis-ci.&lt;/li&gt;
&lt;/ul&gt;
&lt;Author /&gt;
&lt;LastTenPosts /&gt;</content:encoded></item></channel></rss>