<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Why you should use Compression Webpack Plugin ? | Open blog</title>
    <meta name="description" content="Share blog posts on an free open platform">
    
    <meta name="title" content="Why you should use Compression Webpack Plugin ?"><meta name="og-title" content="Why you should use Compression Webpack Plugin ?"><meta name="og-description" content="If you are using webpack as module bundler for your application, you probably are concerned by its own performance and loading time. You may have used code splitting, tree shaking, uglifyfication but you may have forgot a very important step."><meta name="og-image" content="https://open-blog.dev/Slashgear/matt-artz-353260-unsplash.jpg"><meta name="author" content="Antoine Caron">
    <link rel="preload" href="/assets/css/0.styles.d3f2b45c.css" as="style"><link rel="preload" href="/assets/js/app.c6d87bb8.js" as="script"><link rel="preload" href="/assets/js/3.d22faf28.js" as="script"><link rel="preload" href="/assets/js/10.1a56257d.js" as="script"><link rel="preload" href="/assets/js/5.99607161.js" as="script"><link rel="preload" href="/assets/js/4.7ff55092.js" as="script"><link rel="preload" href="/assets/js/6.651fcd29.js" as="script"><link rel="preload" href="/assets/js/7.f6956f38.js" as="script"><link rel="prefetch" href="/assets/js/11.b9999647.js"><link rel="prefetch" href="/assets/js/12.781c0b4f.js"><link rel="prefetch" href="/assets/js/13.cb644f56.js"><link rel="prefetch" href="/assets/js/14.d9c5fdb7.js"><link rel="prefetch" href="/assets/js/15.0649c905.js"><link rel="prefetch" href="/assets/js/16.94e0804a.js"><link rel="prefetch" href="/assets/js/8.ffbfab5e.js"><link rel="prefetch" href="/assets/js/9.d8cc5157.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e4052979.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d3f2b45c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Open blog</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/contributing.html" class="nav-link">Contribute</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/fr/" class="nav-link">Français</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/contributing.html" class="nav-link">Contribute</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/fr/" class="nav-link">Français</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Why you should use Compression Webpack Plugin ?</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html#compression-is-mandatory" class="sidebar-link">Compression is mandatory</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html#compressing-static-files-on-the-fly-is-redondant" class="sidebar-link">Compressing static files on the fly is redondant</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html#should-we-only-generate-gz" class="sidebar-link">&quot;Should we only generate .gz ?&quot;</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html#zopfli" class="sidebar-link">Zopfli</a></li><li class="sidebar-sub-header"><a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html#brotli" class="sidebar-link">Brotli</a></li></ul></li><li><a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html#in-conclusion-why-doing-it-with-webpack" class="sidebar-link">In conclusion: &quot;Why doing it with Webpack ?&quot;</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="why-you-should-use-compression-webpack-plugin"><a href="#why-you-should-use-compression-webpack-plugin" aria-hidden="true" class="header-anchor">#</a> Why you should use Compression Webpack Plugin ?</h1> <p>If you are using webpack as module bundler for your application, you probably are concerned by its own performance and loading time.
You may have used code splitting, tree shaking, uglifyfication but you may have forgot a very important step.</p> <h2 id="compression-is-mandatory"><a href="#compression-is-mandatory" aria-hidden="true" class="header-anchor">#</a> Compression is mandatory</h2> <p>In 2019, if you are not using a compression algorithm to deliver your files in a lighter version to make your website load faster, the situation is critical.
Every website performance analyser will tell you to do it. Here is a size comparison of a vanilla <a href="https://cli.vuejs.org/" target="_blank" rel="noopener noreferrer">Vue CLI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> website with and without Gzip.</p> <p><img src="/assets/img/vue-cli-vanilla-size.15d620b4.png" alt="Vue CLI vanilla size compared to gzip"></p> <p><strong>Here we reduce 64% of the actual size with Gzip.</strong></p> <h2 id="compressing-static-files-on-the-fly-is-redondant"><a href="#compressing-static-files-on-the-fly-is-redondant" aria-hidden="true" class="header-anchor">#</a> Compressing static files on the fly is redondant</h2> <p>Every modern web server has the possibility to compress files on demand.
Although Gzip is fast, compressing static files on each demand is anti-pattern.
Even if you use a cache in front of your static files requests.</p> <p><strong>Static files compression should be done during the build time.</strong></p> <p>If you are in a webpack context, adding compression is very easy.</p> <p>To do so, you can install the <em>compression-webpack-plugin</em> with:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --dev compression-webpack-plugin
</code></pre></div><p>…and add it in your production configuration:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">...</span>
plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token operator">...</span>
</code></pre></div><p>In two easy steps, your output static files will have their <em>.gz</em> equivalent.
Now if you ship those files on a webserver like <a href="https://caddyserver.com/" target="_blank" rel="noopener noreferrer">Caddy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
It will automatically deliver the pre-gzipped version if they exist.
However you need to activate it <a href="http://nginx.org/en/docs/http/ngx_http_gzip_static_module.html" target="_blank" rel="noopener noreferrer">in Nginx server configuration<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="should-we-only-generate-gz"><a href="#should-we-only-generate-gz" aria-hidden="true" class="header-anchor">#</a> &quot;Should we only generate .gz ?&quot;</h2> <p>If you followed the above steps, you enabled compression on your webserver. That is great!</p> <p><strong>But in 2019, Gzip is not the only solution to compress your files.</strong></p> <h3 id="zopfli"><a href="#zopfli" aria-hidden="true" class="header-anchor">#</a> Zopfli</h3> <p>Zopfli is a lossless compression algorithm which has better compression results compared to Gzip with slower compression time.
So if you can, you must always use Zopfli compression for static files, instead of basic Gzip.
Output files of Zopfli respects the same format as Gzip, browser support is the same.</p> <p>You can use zopfli <a href="https://github.com/webpack-contrib/compression-webpack-plugin#using-zopfli" target="_blank" rel="noopener noreferrer">with compression webpack plugin.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="brotli"><a href="#brotli" aria-hidden="true" class="header-anchor">#</a> Brotli</h3> <p>Brotli is a recent compression algorithm (<a href="https://tools.ietf.org/html/rfc7932" target="_blank" rel="noopener noreferrer">RFC 7932<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) with <a href="https://caniuse.com/#search=brotli" target="_blank" rel="noopener noreferrer">a great browser support<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
Based on a new context modeling and a new file format, brotli is very performant for compressing static files.
There is still some difficult parts with brotli (not available on Node &lt; v11, hard to configure on some webservers like Nginx)</p> <p>You can use brotli <a href="https://github.com/webpack-contrib/compression-webpack-plugin#using-zopfli" target="_blank" rel="noopener noreferrer">with compression webpack plugin.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="/assets/img/vue-cli-complete-size.0d631442.png" alt="Vue CLI compression results"></p> <h2 id="in-conclusion-why-doing-it-with-webpack"><a href="#in-conclusion-why-doing-it-with-webpack" aria-hidden="true" class="header-anchor">#</a> In conclusion: &quot;Why doing it with Webpack ?&quot;</h2> <p>Compressing static files during the build steps is still a moot topic.
Some people argue that it is up to the web server to compress the files.
In fact, today web servers do not really optimize the compression of static files.</p> <p>When you compress during the build :</p> <ul><li>You can easily see the complete size of your web application (which is great when you want to track web app performances)</li> <li>Your app is much more portable (you will easily change your deployment or your web server with pre-compressed assets)</li> <li>As a frontend developper you are familiar with the great value of lossless compression.</li></ul> <hr> <section class="author" data-v-77820e12><img src="https://pbs.twimg.com/profile_images/970399793485897729/NW8ACov8_400x400.jpg" alt="profile" class="author__profile" data-v-77820e12> <div class="author__description" data-v-77820e12><h3 class="author__name" data-v-77820e12>
      Antoine Caron
      (Slashgear)</h3> <div class="author__bio" data-v-77820e12>Frontend dev working at M6 (French TV channel) for Zenika. Teacher in engineering school.</div> <div class="author_socials" data-v-77820e12><a href="https://twitter.com/Slashgear_" data-v-77820e12><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" viewBox="0 0 512 512" class="svg-inline--fa fa-twitter fa-w-16" data-v-77820e12><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" data-v-77820e12></path></svg></a> <a href="https://github.com/Slashgear" data-v-77820e12><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="svg-inline--fa fa-github fa-w-16" data-v-77820e12><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" data-v-77820e12></path></svg></a></div></div></section> <section class="card-container" data-v-87ce4772><a href="/post/Slashgear/creating-an-image-lazy-loading-component-with-react.html" class="card" data-v-50cdd4f2 data-v-87ce4772><img src="https://open-blog.dev/Slashgear/lazy-load.gif" alt="Creating an image lazy loading component with React" class="card-image" data-v-50cdd4f2> <div class="card-title" data-v-50cdd4f2>Creating an image lazy loading component with React</div> <div class="card-author" data-v-50cdd4f2><img src="https://pbs.twimg.com/profile_images/970399793485897729/NW8ACov8_400x400.jpg" alt="profile" class="card-author-image" data-v-50cdd4f2> <span class="card-author-name" data-v-50cdd4f2>Antoine Caron</span></div></a><a href="/post/Slashgear/why-you-should-use-compression-webpack-plugin.html" class="card" data-v-50cdd4f2 data-v-87ce4772><img src="https://open-blog.dev/Slashgear/matt-artz-353260-unsplash.jpg" alt="Why you should use Compression Webpack Plugin ?" class="card-image" data-v-50cdd4f2> <div class="card-title" data-v-50cdd4f2>Why you should use Compression Webpack Plugin ?</div> <div class="card-author" data-v-50cdd4f2><img src="https://pbs.twimg.com/profile_images/970399793485897729/NW8ACov8_400x400.jpg" alt="profile" class="card-author-image" data-v-50cdd4f2> <span class="card-author-name" data-v-50cdd4f2>Antoine Caron</span></div></a></section></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">5/7/2019, 12:01:38 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c6d87bb8.js" defer></script><script src="/assets/js/3.d22faf28.js" defer></script><script src="/assets/js/10.1a56257d.js" defer></script><script src="/assets/js/5.99607161.js" defer></script><script src="/assets/js/4.7ff55092.js" defer></script><script src="/assets/js/6.651fcd29.js" defer></script><script src="/assets/js/7.f6956f38.js" defer></script>
  </body>
</html>
